<!DOCTYPE html>
<html lang="ru">
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BLUFF</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@tonconnect/sdk@latest/dist/tonconnect-sdk.min.js"></script>
    <link rel="stylesheet" href="style.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap');
        * {
            font-family: 'Press Start 2P', cursive;
        }
    </style>
</head>
<body>
    <div class="app-container">
        <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç -->
        <div class="main-content">
            <!-- –ì–ª–∞–≤–Ω—ã–π —ç–∫—Ä–∞–Ω -->
            <div id="main" class="tab-content active">
                <div class="header">
                    <h1>BLUFF</h1>
                    <div class="balance">–ë–∞–ª–∞–Ω—Å: <span id="balance">0</span> —Ç–æ–∫–µ–Ω–æ–≤</div>
                </div>

                <div id="coin-container">
                    <div id="coin"><img src="coin.png" alt="–ú–æ–Ω–µ—Ç–∞"></div>
                    <div id="minigame-container" style="display:none;"></div>
                </div>

                <div class="actions">
                    <button id="daily-btn" class="btn">–ï–∂–µ–¥–Ω–µ–≤–Ω—ã–π —á–µ–ª–ª–µ–Ω–¥–∂ (50x)</button>
                    <button id="collect-btn" class="btn" style="display:none;">–°–æ–±—Ä–∞—Ç—å <span id="auto-coins">0</span> —Ç–æ–∫–µ–Ω–æ–≤</button>
                </div>

                <div class="stats">
                    <div>–ê–≤—Ç–æ–∫–ª–∏–∫–µ—Ä: <span id="autoclicker-status">–ù–µ–∞–∫—Ç–∏–≤–µ–Ω</span></div>
                    <div>–ù–∞–∫–æ–ø–ª–µ–Ω–æ: <span id="offline-coins">0</span> —Ç–æ–∫–µ–Ω–æ–≤</div>
                </div>
            </div>

            <!-- –≠–∫—Ä–∞–Ω –¥—Ä—É–∑–µ–π -->
            <div id="friends" class="tab-content">
                <h2>–†–µ—Ñ–µ—Ä–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞</h2>
                <div class="referral">
                    <p>–í–∞—à–∞ —Å—Å—ã–ª–∫–∞:</p>
                    <input type="text" id="referral-link" readonly>
                    <button id="copy-btn" class="btn">–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å</button>
                </div>
                <div class="referral-stats">
                    <p>–ü—Ä–∏–≥–ª–∞—à–µ–Ω–æ –¥—Ä—É–∑–µ–π: <span id="friends-count">0</span></p>
                    <p>–í—Å–µ–≥–æ –∑–∞—Ä–∞–±–æ—Ç–∞–Ω–æ: <span id="referral-earnings">0</span> —Ç–æ–∫–µ–Ω–æ–≤</p>
                </div>
                <div id="friends-list">
                    <p id="no-friends-message">–í—ã –µ—â–µ –Ω–∏–∫–æ–≥–æ –Ω–µ –ø—Ä–∏–≥–ª–∞—Å–∏–ª–∏. –ü—Ä–∏–≥–ª–∞—à–∞–π—Ç–µ –¥—Ä—É–∑–µ–π –∏ –ø–æ–ª—É—á–∞–π—Ç–µ –±–æ–Ω—É—Å—ã!</p>
                    <div class="referral-motivation">
                        <p>üíé –ó–∞ –∫–∞–∂–¥–æ–≥–æ –¥—Ä—É–≥–∞ –ø–æ–ª—É—á–∞–π—Ç–µ +1000 —Ç–æ–∫–µ–Ω–æ–≤!</p>
                        <p>üî• –ß–µ–º –±–æ–ª—å—à–µ –¥—Ä—É–∑–µ–π - —Ç–µ–º –±–æ–ª—å—à–µ –Ω–∞–≥—Ä–∞–¥–∞!</p>
                    </div>
                </div>
            </div>

            <!-- –≠–∫—Ä–∞–Ω –∫–æ—à–µ–ª—å–∫–∞ -->
            <div id="wallet" class="tab-content">
                <h2>TON –ö–æ—à–µ–ª—ë–∫</h2>
                <div class="wallet-info">
                    <p>–°—Ç–∞—Ç—É—Å: <span id="wallet-status">–ù–µ –ø–æ–¥–∫–ª—é—á–µ–Ω</span></p>
                    <p>–ê–¥—Ä–µ—Å: <span id="wallet-address">-</span></p>
                    <p>–ë–∞–ª–∞–Ω—Å: <span id="ton-balance">0</span> TON</p>
                </div>
                <button id="connect-wallet" class="btn">–ü–æ–¥–∫–ª—é—á–∏—Ç—å –∫–æ—à–µ–ª—ë–∫</button>
                <button id="withdraw-btn" class="btn" disabled>–í—ã–≤–µ—Å—Ç–∏ —Ç–æ–∫–µ–Ω—ã</button>
            </div>

            <!-- –≠–∫—Ä–∞–Ω —É–ª—É—á—à–µ–Ω–∏–π -->
            <div id="upgrades" class="tab-content">
                <h2>–£–ª—É—á—à–µ–Ω–∏—è</h2>
                <div class="upgrade-item">
                    <h3>–ê–≤—Ç–æ–∫–ª–∏–∫–µ—Ä</h3>
                    <p>–ö–ª–∏–∫–∞–µ—Ç –∫–∞–∂–¥—ã–µ 2 —Å–µ–∫—É–Ω–¥—ã</p>
                    <p>–¶–µ–Ω–∞: 2,500 —Ç–æ–∫–µ–Ω–æ–≤</p>
                    <button id="buy-autoclicker" class="btn">–ö—É–ø–∏—Ç—å</button>
                </div>
            </div>
        </div>

        <!-- –ù–∞–≤–∏–≥–∞—Ü–∏—è –≤–Ω–∏–∑—É -->
        <nav class="tabs">
            <button class="tab active" data-tab="main">–ì–ª–∞–≤–Ω–∞—è</button>
            <button class="tab" data-tab="friends">–î—Ä—É–∑—å—è</button>
            <button class="tab" data-tab="wallet">–ö–æ—à–µ–ª—ë–∫</button>
            <button class="tab" data-tab="upgrades">–£–ª—É—á—à–µ–Ω–∏—è</button>
        </nav>
    </div>

    <script src="https://www.gstatic.com/firebasejs/9.6.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.0/firebase-firestore-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.0/firebase-auth-compat.js"></script>
    <script src="script.js"></script>
    <script src="game.js"></script>
    
    <script>
        // –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ –≤—Å–µ –∑–∞–≥—Ä—É–∂–µ–Ω–æ
        document.addEventListener('DOMContentLoaded', () => {
            console.log('DOM fully loaded');
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º –æ—Å–Ω–æ–≤–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã
            const checkElements = ['coin', 'daily-btn', 'connect-wallet', 'buy-autoclicker'];
            checkElements.forEach(id => {
                if (!document.getElementById(id)) {
                    console.error(`Element with id ${id} not found!`);
                }
            });
        });
    </script>
</body>
</html>